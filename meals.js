document.addEventListener('DOMContentLoaded', () => {
    // Dummy data for weekly meals. You would replace this with actual data fetched from an API.
    // Added more days for demonstration purposes.
    const weeklyMeals = {
        '2025-07-24': [
            { floor: '20F', type: 'í•œì‹', name: 'í–„êµ¬ì´(ìŠ¤íŒ¸)&ë³¶ìŒê¹€ì¹˜\nìˆ˜ìˆ˜ë°¥/ìŒ€ë°¥\në¯¸ë‹ˆëœìž¥ì°Œê°œ\nì˜¤ì§•ì–´ì™„ìžì „\në§ˆëŠ˜ì¢…ê²Œë§›ì‚´ë³¶ìŒ\nê±´íŒŒëž˜ë³¶ìŒ + ì„ë¥˜ì°¨' },
            { floor: '20F', type: 'ì¼í’ˆ', name: 'ì¹˜í‚¨ê¹ŒìŠ¤' },
            { floor: '10F', type: 'ë„ì‹œë½', name: 'ì°¸ì¹˜ë§ˆìš”' },
            { floor: '10F', type: 'ë¸ŒëŸ°ì¹˜', name: 'ì—ê·¸ìƒŒë“œìœ„ì¹˜' },
            { floor: '10F', type: 'ìƒëŸ¬ë“œ', name: 'ë‹­ê°€ìŠ´ì‚´ìƒëŸ¬ë“œ' }
        ],
        '2025-07-25': [
            { floor: '20F', type: 'í•œì‹ðŸš', name: 'ì˜¤ë¯€ë¼ì´ìŠ¤&ì¼€ì°¹,ê°€ë‹¤ëž­ì´êµ­,ì«„ë©´ì±„ì†Œë¬´ì¹¨,í‘¸ì‹¤ë¦¬ìƒëŸ¬ë“œ,ìƒëŸ¬ë“œ&ë“œë ˆì‹±,ê¹€ì¹˜,*ëª¨ê³¼ì°¨*' },
            { floor: '20F', type: 'ì¼í’ˆðŸš', name: '[ë„ì‚°ë¶„ì‹]êµ­ë¬¼ë–¡ë³¶ì´,ê¼¬ë§ˆê¹€ë°¥,ê°€ë‹¤ëž­ì´êµ­,ìˆœëŒ€íŠ€ê¹€,ìƒëŸ¬ë“œ&ë“œë ˆì‹±,ë‹¨ë¬´ì§€,*ëª¨ê³¼ì°¨*' },
            { floor: '10F', type: 'ë„ì‹œë½ðŸ±', name: 'ë‹¨í˜¸ë°•ì°œë‹­,ì–´ë¬µê°•ì •,ìˆœë‘ë¶€ë§‘ì€êµ­,ë°±ë¯¸ë°¥,ë„ë¼ì§€ì˜¤ì´ë¬´ì¹¨,í¬ê¸°ê¹€ì¹˜' },
            { floor: '10F', type: 'ë¸ŒëŸ°ì¹˜ðŸ¥ª', name: 'ì˜›ë‚ í† ìŠ¤íŠ¸,ì¹˜ì¦ˆìŠ¤í‹±ìƒëŸ¬ë“œ,ìŒë£Œ' },
            { floor: '10F', type: 'ìƒëŸ¬ë“œðŸ¥—', name: 'ì¹˜í‚¨í…ë” ë‹¨í˜¸ë°• ë³´ìš¸' }
        ],
        '2025-07-26': [],
        '2025-07-27': [],
        '2025-07-28': [
            { floor: '20F', type: 'í•œì‹ðŸš', name: 'ë¼ì§€ê³ ê¸°ê¹€ì¹˜ë³¶ìŒ,í˜„ë¯¸ë°¥/ìŒ€ë°¥,ë¯¸ì—­êµ­,ë¶€ì¶”ì „,ìƒëŸ¬ë“œ&ë“œë ˆì‹±,ê¹ë‘ê¸°,*ì˜¤ë¯¸ìžì°¨*' },
            { floor: '20F', type: 'ì¼í’ˆðŸš', name: 'ë°”ë² íí­ì°¹,ê³„ëž€ì±„ì†Œë³¶ìŒë°¥,ë¯¸ì—­êµ­,ìƒì„ ê°€ìŠ¤&íƒ€ë¥´íƒ€ë¥´,ìƒëŸ¬ë“œ&ë“œë ˆì‹±,ì–‘ë°°ì¶”í”¼í´,*ì˜¤ë¯¸ìžì°¨*' },
            { floor: '10F', type: 'ë„ì‹œë½ðŸ±', name: 'ìˆœì‚´ê°•ì •,ë™ê·¸ëž‘ë•¡+ì¼€ì°¹,ë¶€ëŒ€ì°Œê°œ,ë°±ë¯¸ë°¥,ë§ˆì¹´ë¡œë‹ˆìƒëŸ¬ë“œ,í¬ê¸°ê¹€ì¹˜' },
            { floor: '10F', type: 'ë¸ŒëŸ°ì¹˜ðŸ¥ª', name: 'í–„ê³„ëž€ìƒŒë“œìœ„ì¹˜,ëˆê¹ŒìŠ¤ìƒëŸ¬ë“œ,ìŒë£Œ' },
            { floor: '10F', type: 'ìƒëŸ¬ë“œðŸ¥—', name: 'ê°„ìž¥ë‹­ì¡°ë¦¼ ë²„ì„¯ ìƒëŸ¬ë“œ,ìŒë£Œ' }
        ],
        '2025-07-29': [
            { floor: '20F', type: 'ì¼ë°˜ì‹ðŸš', name: 'í–„ë²„ê·¸ìŠ¤í…Œì´í¬,ê¹Œë¥´ë³´ë‚˜ë¼ìŠ¤íŒŒê²Œí‹°,ìŒ€ë°¥&í›„ë¦¬ê°€ì¼€/ì¼ì‹ìž¥êµ­,ë”ìš´ì±„ì†Œ/ë°˜ë‹¬ê°ìžíŠ€ê¹€&ì¼€ì°¹,ì¼ì‹ì–‘ë°°ì¶”ìƒëŸ¬ë“œ&D,ì‚¬ê°ë‹¨ë¬´ì§€,*ì•„ì´ìŠ¤ì´ˆì½”*' },
            { floor: '10F', type: 'ë„ì‹œë½ðŸ±', name: 'ë¯¸ìš´ì˜' },
            { floor: '10F', type: 'ë¸ŒëŸ°ì¹˜ðŸ¥ª', name: 'BELTìƒŒë“œìœ„ì¹˜,ë‘ë¶€ìƒëŸ¬ë“œ,ìŒë£Œ' },
            { floor: '10F', type: 'ìƒëŸ¬ë“œðŸ¥—', name: 'ë§¤ì½¤ì œìœ¡ë³´ìš¸' }
        ],
        '2025-07-30': [
            { floor: '20F', type: 'ì¼ë°˜ì‹ðŸš', name: 'í•œë°©ë‹­ë‹¤ë¦¬ë°±ìˆ™,í‘ë¯¸ì°¹ìŒ€ë°¥,ê¹€ì¹˜ì „,ì¡°ëž­ì´ë–¡ì˜¥ìˆ˜ìˆ˜ìƒëŸ¬ë“œ,ë„í† ë¦¬ë¬µ&ì–‘ë…ìž¥,ê¹ë‘ê¸°/ìˆ˜ë°•,*ì‹í˜œ*' },
            { floor: '10F', type: 'ë„ì‹œë½ðŸ±', name: 'ë¯¸ìš´ì˜' },
            { floor: '10F', type: 'ë¸ŒëŸ°ì¹˜ðŸ¥ª', name: 'ë‹¹ê·¼ë¼íŽ˜ìƒŒë“œìœ„ì¹˜,ê³ êµ¬ë§ˆìƒëŸ¬ë“œ,ìŒë£Œ' },
            { floor: '10F', type: 'ìƒëŸ¬ë“œðŸ¥—', name: 'ìƒˆìš°íŠ€ê¹€ ê°ìžë¬´ìŠ¤ ìƒëŸ¬ë“œ,ìŒë£Œ' }
        ],
        '2025-07-31': [
            { floor: '20F', type: 'í•œì‹ðŸš', name: 'ë¶€ëŒ€ì°Œê°œ,ë³´ë¦¬ë°¥/ìŒ€ë°¥,ë¯¸íŠ¸ë³¼ì¼€ì°¹ì¡°ë¦¼,ëŠíƒ€ë¦¬ë²„ì„¯ê½ˆë¦¬ë³¶ìŒ,ê²Œë§›ì‚´ê²¨ìžëƒ‰ì±„,ê¹ë‘ê¸°,*ì•„ì´ìŠ¤í‹°(ë ˆëª¬)*' },
            { floor: '20F', type: 'ì¼í’ˆðŸš', name: 'ìž¥ì¡°ë¦¼ë²„í„°ë°¥,ì‹œê¸ˆì¹˜ëœìž¥êµ­,ëª¨ë‘ íŠ€ê¹€ê°•ì •,ì›…ì—‰ë•…ì½©ì¡°ë¦¼,ê²Œë§›ì‚´ê²¨ìžëƒ‰ì±„,ê¹ë‘ê¸°,*ì•„ì´ìŠ¤í‹°(ë ˆëª¬)*' },
            { floor: '10F', type: 'ë„ì‹œë½ðŸ±', name: 'ì˜ì½˜ì†Œë¶ˆê³ ê¸°,ë³¶ìŒìš°ë™,ê¹€ì¹˜ì½©ë‚˜ë¬¼êµ­,í‘ë¯¸ë°¥,ìƒˆì½¤ë‹¬ì½¤ë¬´ìƒì±„,í¬ê¸°ê¹€ì¹˜' },
            { floor: '10F', type: 'ë¸ŒëŸ°ì¹˜ðŸ¥ª', name: 'ì°¸ì¹˜ìƒŒë“œìœ„ì¹˜,ë§ˆì¹´ë¡œë‹ˆìƒëŸ¬ë“œ,ìŒë£Œ' },
            { floor: '10F', type: 'ìƒëŸ¬ë“œðŸ¥—', name: 'ë‹­ê°€ìŠ´ì‚´ íŒŒì¸ì• í”Œ ìƒëŸ¬ë“œ,ìŒë£Œ' }
        ],
        '2025-08-01': [
            { floor: '20F', type: 'í•œì‹ðŸš', name: 'ì‚¬ê³¨ë–¡êµ­,ë¯¸ë‹ˆìˆ˜ìˆ˜ë°¥/ìŒ€ë°¥,ìž¡ì±„,ì–´ë¬µì±„ë§¤ìš´ë³¶ìŒ,ê¹»ìžŽìˆœê²‰ì ˆì´,ë°°ì¶”ê²‰ì ˆì´,*ì¸„ëŸ¬ìŠ¤/ë³µë¶„ìžì°¨*' },
            { floor: '20F', type: 'ì¼í’ˆðŸš', name: 'ëª…íƒœíšŒëƒ‰ë©´,ì‚¬ê³¨ì˜¨ìœ¡ìˆ˜,ìœ ë¶€ì–‘ë…ë°¥,êµìžë§Œë‘ì°œ&ì´ˆê°„ìž¥,ë§ˆì¹´ë¡œë‹ˆì½˜ìƒëŸ¬ë“œ,ëƒ‰ë©´ê¹€ì¹˜,*ì¸„ëŸ¬ìŠ¤/ë³µë¶„ìžì°¨*' },
            { floor: '10F', type: 'ë„ì‹œë½ðŸ±', name: 'ê³ êµ¬ë§ˆì¹˜ì¦ˆëˆê¹ŒìŠ¤,ì‹ ë‹¹ë™ë–¡ë³¶ì´,ëƒ‰ìš°ë™,ë°±ë¯¸ë°¥,ì«„ë©´,í¬ê¸°ê¹€ì¹˜' },
            { floor: '10F', type: 'ë¸ŒëŸ°ì¹˜ðŸ¥ª', name: 'í•¨ë°•ìŠ¤í…Œì´í¬ìƒŒë“œìœ„ì¹˜,ë³‘ì•„ë¦¬ì½©ìƒëŸ¬ë“œ,ìŒë£Œ' },
            { floor: '10F', type: 'ìƒëŸ¬ë“œðŸ¥—', name: 'í›ˆì œì˜¤ë¦¬ ë‹¨í˜¸ë°• ìƒëŸ¬ë“œ,ìŒë£Œ' }
        ],
        '2025-08-02': [],
        '2025-08-03': []
        // Add more days as needed
    };

    // Get today's date in YYYY-MM-DD format
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth() + 1).padStart(2, '0'); // Month is 0-indexed
    const dd = String(today.getDate()).padStart(2, '0');
    const todayStr = `${yyyy}-${mm}-${dd}`;

    // Get meals for today
    const meals = weeklyMeals[todayStr] || [];

    const mealsGrid = document.querySelector('.meals-grid');
    const noMealMessage = document.getElementById('no-meal-message');

    // Clear existing content
    mealsGrid.innerHTML = '';

    if (meals.length > 0) {
        // Hide no meal message if there are meals
        noMealMessage.style.display = 'none';
        // Populate the meals grid
        meals.forEach(meal => {
            const div = document.createElement('div');
            div.className = 'meal-card';
            // Replace newline characters with <br> for proper HTML display
            const formattedName = meal.name.replace(/,/g, '<br>');
            div.innerHTML = `<strong>${meal.floor} ${meal.type}</strong>${formattedName}`;
            mealsGrid.appendChild(div);
        });
    } else {
        // Show no meal message if no meals are found for today
        noMealMessage.style.display = 'block';
    }
});
